@model Model.View.FullSCar

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Theme3.cshtml";
    var listCar = (IEnumerable<Model.EF.ServiceCar>)ViewBag.IDCar;
    var sCar = new List<SelectListItem>();

    foreach (var item in listCar)
    {
        sCar.Add(new SelectListItem
        {
            Text = item.Name,
            Value = item.ID.ToString(),
        });
    }

}
@section jsFooter
{
    <script src="/Scripts/CheckStatusRoomMeeting.js"></script>
    <script src="/Scripts/CheckStatusPersonalMeeting.js"></script>
    <script src="/Assets/theme3/plugins/timepicker/bootstrap-timepicker.min.js"></script>
    <script>
        $(function () {

            $('.select2').select2()
            $('.time1').timepicker({
                showInputs: false,
                showMeridian: false
            })
            $('.time2').timepicker({
                showInputs: false,
                showMeridian: false
            })
            $("#date").datepicker();
        })
    </script>
}
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<link href="~/Assets/js/jquery-ui.css" rel="stylesheet" />

<div class="card card-primary">
    <div class="card-header">
        <h3 class="card-title">Yêu Cầu Xe Công Tác (người tạo: @Model.item.CreateBy)</h3>
    </div>
    @using (Html.BeginForm("Edit", "ProposalSCar", FormMethod.Post))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="card-body">
            <div class="col-lg-4" style="display:block">
                @Html.TextBoxFor(model => model.item.ID, new { @class = "form-control", @style = "display: none; visibility: hidden;" })
            </div>

            <div class="row">
                <div class='col-md-5'>
                    <label class="control-label">Chọn Xe</label>
                    @Html.DropDownListFor(model => model.item.IDCar, sCar, new { @class = "form-control", })
                </div>
                <div class='col-md-3'>
                    <label>Ngày:</label>
                    <div class="input-group mb-3">
                        @Html.TextBoxFor(model => model.date, new { @class = "date form-control", @autocomplete = "off" })
                        <div class=" input-group-append">
                            <span class="input-group-text"><i class="fa fa-calendar"></i></span>
                        </div>
                    </div>
                </div>
                <div class='col-md-2'>
                    <div class="bootstrap-timepicker">
                        <div class="form-group">
                            <label>Từ:</label>
                            <div class="input-group">
                                @Html.TextBoxFor(model => model.time1, new { @class = "time1 form-control", @autocomplete = "off" })
                                <div class="input-group-append">
                                    <span class="input-group-text"><i class="fa fa-clock-o"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class='col-md-2'>
                    <div class="bootstrap-timepicker">
                        <div class="form-group">
                            <label>Đến:</label>
                            <div class="input-group">
                                @Html.TextBoxFor(model => model.time2, new { @class = "time2 form-control", @autocomplete = "off" })
                                <div class="input-group-append">
                                    <span class="input-group-text"><i class="fa fa-clock-o"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class='col-md-9'>
                    <label class="control-label chude1">Lý Do</label>
                    @Html.TextBoxFor(model => model.item.Reason, new { @class = "form-control" })
                </div>
                <div class='col-md-3'>
                    <label class="control-label chude1">Người liên hệ</label>
                    @Html.TextBoxFor(model => model.item.Contact, new { @class = "form-control" })
                </div>
                <div class='col-md-12'>
                    <label class="control-label chude1">Lộ trình</label>
                    @Html.TextBoxFor(model => model.item.Route, new { @class = "form-control" })
                </div>
            </div>
            <div class="row">
                <div class='col-md-12'>
                    <label class="control-label noidung1">Dánh sách nhân sự kèm theo (nếu có)</label>
                    @Html.TextAreaFor(model => model.item.Goods, new { @class = "form-control", @rows = "4" })
                </div>
            </div>
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th class="col-6">Trưởng bộ phận duyệt</th>
                        <th class="col-3">TP HCNS duyệt</th>
                    </tr>
                </thead>
                <tbody>
                    <tr id="row_0">
                        <td>@Html.CheckBoxFor(model => model.item.Approval1, new { @style = "height:90px; width:90px;" })</td>
                        <td>@Html.CheckBoxFor(model => model.item.Approval2, new { @style = "height:90px; width:90px;" })</td>
                    </tr>
                    <tr id="row_0">
                        <td>
                            @if (Model.item.Approval1Date != null)
                            {<span> @Model.item.Approval1Name duyệt @Model.item.Approval1Date.Value.ToString("dd/MM/yyyy hh:mm")</span>}
                        </td>
                        <td>
                            @if (Model.item.Approval2Date != null)
                            {<span> @Model.item.Approval2Name duyệt @Model.item.Approval2Date.Value.ToString("dd/MM/yyyy hh:mm")</span>}
                        </td>
                </tr>

                </tbody>
            </table>

        </div>
        <div class="card-footer">
            <button type="submit" class="nutsave btn btn-primary" onclick="openNav()">Lưu thông tin</button>
        </div>
    }
</div>





