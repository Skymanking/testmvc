@model Model.View.FullMeeting

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Theme1.cshtml";
    var listU = (IEnumerable<Model.View.ERP.NAME_KHSX>)ViewBag.listAll;
    string temp = "abc";
    Model.View.ERP.SL_KHSX1 slKHSX = ViewBag.slKHSX;
    List<Model.View.ERP.SUM_1DAY> slTT = ViewBag.slTT;
    string key = ViewBag.key;

}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $(".khsx").val(@key);
        $(".khsx").change(function () {
            var IDkhsx = $(".khsx").val();
            window.location =  IDkhsx;
        });
    });
</script>


<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawVisualization);

    function drawVisualization() {
        // Some raw data (not necessarily accurate)
        var data = google.visualization.arrayToDataTable([
         ['Ngày', 'Kế Hoạch', 'Thực Tế SX', 'Công suất chuyền'],
         ['@slKHSX.StartDate.AddDays(0).ToString("MM/dd/yyyy")',   @slKHSX.Day1,        @slTT[0].SUM, 240],
         ['@slKHSX.StartDate.AddDays(1).ToString("MM/dd/yyyy")',   @slKHSX.Day2,        @slTT[1].SUM, 240],
         ['@slKHSX.StartDate.AddDays(2).ToString("MM/dd/yyyy")',   @slKHSX.Day3,         @slTT[2].SUM, 240],
         ['@slKHSX.StartDate.AddDays(3).ToString("MM/dd/yyyy")',   @slKHSX.Day4,        @slTT[3].SUM, 240],
         ['@slKHSX.StartDate.AddDays(4).ToString("MM/dd/yyyy")',   @slKHSX.Day5,       @slTT[4].SUM, 240],
		 ['@slKHSX.StartDate.AddDays(5).ToString("MM/dd/yyyy")',   @slKHSX.Day6,        @slTT[5].SUM, 240],
         ['@slKHSX.StartDate.AddDays(6).ToString("MM/dd/yyyy")',   @slKHSX.Day7,        @slTT[6].SUM, 240]
        ]);

        var options = {
            title: 'Thống kê công suất thực tế chuyền Xi',
            vAxis: { title: 'Tổng Số Cầu' },
            hAxis: { title: 'Ngày' },
            seriesType: 'bars',
            series: { 2: { type: 'line' } }
        };

        var chart = new google.visualization.ComboChart(document.getElementById('chart_div'));
        chart.draw(data, options);
    }
</script>
<div class="row">
    <div class="col-md-3">
        <select class="khsx form-control" id="khsx" onclick=myFunction()>

            @foreach (var item in listU)
            {
                <option value="@item.ID">@item.ProductionScheduleName</option>
            }
        </select>
    </div>
</div>
<div class="row">
    <div id="chart_div" style="width: 900px; height: 500px;"></div>
</div>




