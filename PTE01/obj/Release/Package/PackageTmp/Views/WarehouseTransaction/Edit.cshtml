@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_Theme3.cshtml";
    var i = 0;
    Model.EF.FullWareHouse full = ViewBag.Full;
    List<SelectListItem> listVT = new List<SelectListItem>();
    var lenght1 = full.detail.Count();

}
@section jsFooter
{
    <script src="/Scripts/AppovalWHTrans.js"></script>
}
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<div class="card card-primary">
    <div class="card-header">
        <a href="~/Warehouse/WMS"><img src="~/Assets/theme3/dist/img/home6.png" style="width: 48px; float: left; margin: -10px 10px -10px -10px; " /></a>   <h3 class="card-title">Thông tin phiếu Xuất/Nhập kho</h3>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-2 col-2">
                <label class="control-label">Số phiếu</label>
                <input class="form-control" value='@full.item.ID' readonly />
            </div>
            <div class="col-md-10 col-10">
                <label class="control-label">Lý do</label>
                <input class="form-control" value='@full.item.Name' readonly />
            </div>

            <div class="col-md-2 col-6">
                <label class="control-label">Ngày nhập</label>
                <input class="form-control" value='@full.item.LimitedDate.ToString("dd/MM/yyyyy")' readonly />
            </div>

            <div class="col-md-4 col-6">
                <div class="form-group">
                    <label class="control-label col-md-12">Loại phiếu<span style="font-weight:bold;color:red">*</span></label>
                    <input class="form-control" value="@ViewBag.Type" readonly />
                </div>
            </div>
            <div class="col-md-6 col-12">
                <label class="control-label col-md-12">Kho<span style="font-weight:bold;color:red">*</span></label>
                <div class="form-group">
                    <input class="form-control" value="@ViewBag.NameWH" readonly />
                </div>
            </div>

        </div>

        <div class="row">
            <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover" id="gvCustomers" style="width:100%;table-layout:fixed">
                    <thead>
                        <tr>
                            <th style="width:120px">Mã Item</th>
                            <th>Tên Item</th>
                            <th>Số lượng</th>
                            <th>ĐVT</th>
                            <th>Ghi chú</th>
                            <th >Mã Vị trí</th>
                            <th>Số Lô</th>
                            <th>Số PO</th>
                            <th>Số PR</th>
                          
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in full.detail)
                        {
                            <tr id="@item.ID">
                                <td>@item.MaterialCode</td>
                                <td>@item.MaterialName</td>
                                <td>@item.Amount</td>
                                <td>@item.MaterialUnit</td>
                                <td>@item.Note</td>
                                <td>@item.IDLocation</td>
                                <td>@item.IDLot</td>
                                <td>@item.PoNum</td>
                                <td>@item.RelatedNum</td>
                                
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2 col-6">
                <label class="control-label">Người tạo</label>
                <input class="form-control" value="@full.item.CreateBy" readonly />
            </div>
            <div class="col-md-2 col-6">
                <label class="control-label">Ngày tạo</label>
                <input class="form-control" value='@full.item.CreateDate.ToString("dd/MM/yyyyy")' readonly />
            </div>
            <div class="col-md-4 col-12 text-center">
                <a href="#" class="btn-approval" data-id="@full.item.ID">@Html.Raw(@full.item.Confirmed ? "<span class='fa fa-check fa-2x' style='font-size:80px;border: 4px solid black;'></span>" : "<span class='fa fa-times fa-2x' style='color:red;font-size:80px;border: 4px solid black;'></span>")</a>
            </div>
            <div class="col-md-2 col-6">
                <label class="control-label">Người nhận</label>
                <input class="form-control" value="@full.item.Receiver" readonly />
            </div>
            <div class="col-md-2 col-6">
                <label class="control-label">Ngày xác nhận</label>
                @if (@full.item.ConfirmDate != null)
                {<input class="form-control" value='@full.item.ConfirmDate.Value.ToString("dd/MM/yyyy")' readonly />}
                else
                {<input class="form-control" value='chưa xác nhận' readonly />}
            </div>
            @if (full.item.Type == 0)
            {
                <div class="col-md-2 col-6">
                    <form action="/WarehouseTransaction/tranfer1/@full.item.ID">
                        <input type="submit" value="Tạo phiếu nhập nội bộ" style='font-size: 20px; border: 4px solid black; background-color: khaki' />
                    </form>
                </div>
            }
        </div>
    </div>
</div>
