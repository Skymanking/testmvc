@{
    ViewBag.Title = "DashBroad";
    Layout = "~/Views/Shared/_Theme1.cshtml";
    int info1 = ViewBag.info1;                                   // tong so nhan vien online
    List<Model.View.Report3> info2 = ViewBag.info2;              // bieu do cot bien dong nhan su 12 thang
    IEnumerable<Model.View.Report1> info3 = ViewBag.info3;       // bieu do tron trinh do hoc van
    IEnumerable<Model.View.Report1> info4 = ViewBag.info4;     // bieu do tron phan nhom cap bac
    int info5 = ViewBag.info5;                                   // So nguoi chua ky HDLD
    List<Model.View.Report1> info6 = ViewBag.info6;              // bieu do nhu cau tuyen dung 12 thang
    List<int> info7 = ViewBag.info7;                             // ti le thanh cong ho so
    int info8 = ViewBag.info8;                                  // sinh nhat trong thang
    int info9 = ViewBag.info9;                                  // Chua cap dong phuc
    List<Model.View.Candidate2> info10 = ViewBag.info10;        // danh sach nhan vien sap nhan viec
}

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    google.charts.load('current', { 'packages': ['bar'] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Tháng/Năm', 'NV mới', 'NV nghỉ '],
           @foreach (var item in info2)
          {
                <text>
           ['@item.Name', @item.Value2, @item.Value3],
            </text>
        }
        ]);

        var options = {
            chart: {
                title: ' ',
                subtitle: '',
            }
        };

        var chart = new google.charts.Bar(document.getElementById('columnchart_info2'));

        chart.draw(data, google.charts.Bar.convertOptions(options));
    }
</script>

<script type="text/javascript">
    google.charts.load('current', { 'packages': ['bar'] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Tháng/Năm', 'Người '],
           @foreach (var item in info6)
          {
                <text>
           ['@item.Name', @item.Value],
            </text>
        }
        ]);

        var options = {
            chart: {
                title: '',
                subtitle: '',
            }
        };

        var chart = new google.charts.Bar(document.getElementById('columnchart_info6'));

        chart.draw(data, google.charts.Bar.convertOptions(options));
    }
</script>

<script type="text/javascript">
    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          @foreach(var item in info3)
          {
               <text>
               [' @item.Name.Replace("â", "a").Replace("á", "a").Replace("à", "a").Replace("ô", "o").Replace("ó", "o").Replace("ò", "o").Replace("í", "i").Replace("ì", "i").Replace("ê", "e").Replace("é", "e").Replace("è", "e")', @item.Value],
                </text>
          }
        ]);

        var options = {
            legend: 'none',
            is3D: true,
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_info3'));

        chart.draw(data, options);
    }
</script>
<script type="text/javascript">
            google.charts.load('current', { 'packages': ['corechart'] });
            google.charts.setOnLoadCallback(drawChart);

            function drawChart() {

                var data = google.visualization.arrayToDataTable([
                  ['Task', 'Hours per Day'],
                  @foreach(var item in info4)
          {
               <text>
                       ['Nhóm @item.Name.Replace("99", "Chua phan nhom")', @item.Value],
                        </text>
          }
                ]);

                var options = {
                    legend: 'none',
                    pieHole: 0.4,
                };

                var chart = new google.visualization.PieChart(document.getElementById('piechart_info4'));

                chart.draw(data, options);
            }
</script>


<div class="row">
    <div class="col-lg-3 col-md-6">
        <div class="panel panel-green">
            <div class="panel-heading">
                <div class="row">
                    <div class="col-xs-3">
                        <i class="fa fa-user fa-5x"></i>
                    </div>
                    <div class="col-xs-9 text-right">
                        <div class="huge">@info1</div>
                        <div>Tổng Nhân Viên</div>
                    </div>
                </div>
            </div>
            <a href="~/Personal/Index">
                <div class="panel-footer">
                    <span class="pull-left">Chi Tiết</span>
                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                    <div class="clearfix"></div>
                </div>
            </a>
        </div>
    </div>
    <div class="col-lg-3 col-md-6">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <div class="row">
                    <div class="col-xs-3">
                        <i class="fa fa-file-text fa-5x"></i>
                    </div>
                    <div class="col-xs-9 text-right">
                        <div class="huge">@info5</div>
                        <div>Số HDLD chưa làm</div>
                    </div>
                </div>
            </div>
            <a href="~/HDLD/Nofication">
                <div class="panel-footer">
                    <span class="pull-left">Chi Tiết</span>
                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                    <div class="clearfix"></div>
                </div>
            </a>
        </div>
    </div>
    <div class="col-lg-3 col-md-6">
        <div class="panel panel-yellow">
            <div class="panel-heading">
                <div class="row">
                    <div class="col-xs-3">
                        <i class="fa  fa-male fa-5x"></i>
                    </div>
                    <div class="col-xs-9 text-right">
                        <div class="huge">@info9</div>
                        <div>Đồng Phục chưa cấp</div>
                    </div>
                </div>
            </div>
            <a href="~/Personal/ReportDongPhuc">
                <div class="panel-footer">
                    <span class="pull-left">Chi Tiết</span>
                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                    <div class="clearfix"></div>
                </div>
            </a>
        </div>
    </div>
    <div class="col-lg-3 col-md-6">
        <div class="panel panel-red">
            <div class="panel-heading">
                <div class="row">
                    <div class="col-xs-3">
                        <i class="fa fa-gift fa-5x"></i>
                    </div>
                    <div class="col-xs-9 text-right">
                        <div class="huge">@info8</div>
                        <div>Sinh Nhật Trong Tháng</div>
                    </div>
                </div>
            </div>
            <a href="~/Personal/BirthDay?month=@DateTime.Now.Month">
                <div class="panel-footer">
                    <span class="pull-left">Chi Tiết</span>
                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                    <div class="clearfix"></div>
                </div>
            </a>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-8">
        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> Biến Động Nhân Sự 12 Tháng
                <div class="pull-right">
                    <div class="btn-group">
                        <a href="~/Personal/Report1" class="btn btn-default btn-xs">Chi Tiết  </a>
                    </div>
                </div>
            </div>

            <div class="panel-body">
                <div id="columnchart_info2" style="height:400px"></div>
            </div>

        </div>

        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> Nhu Cầu Tuyển Dụng 12 Tháng
                <div class="pull-right">
                    <div class="btn-group">
                        <a href="~/ProposalRecruitment/Report5" class="btn btn-default btn-xs ">Chi Tiết</a>
                    </div>
                </div>
            </div>
            <div class="panel-body">
                <div id="columnchart_info6" style=" height: 400px;"></div>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> Thống Kê Hồ Sơ Ứng Viên
                <div class="pull-right">
                    <div class="btn-group">
                        <a href="~/Candidate/Report1" class="btn btn-default btn-xs ">Chi Tiết</a>
                    </div>
                </div>
            </div>
            <div class="panel-body">
                <table class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr>
                            <th>SL Hồ Sơ</th>
                            <th>SL Mời PV</th>
                            <th>SL Tham gia PV</th>
                            <th>SL PV Đạt</th>
                            <th>SL Nhận Việc</th>
                            <th>SL Ký HĐ 1năm</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr id="row" style="background: #8BC34A;font-weight: bold; color: red; font-size:16px;">

                            <td>@info7[0].ToString() <span class="fa fa-arrow-right"></span></td>
                            <td>@info7[1].ToString()<span style="font-weight: normal; color: black; font-size:11px;"> (@(info7[1] * 100 / info7[0])%)</span><span class="fa fa-arrow-right"></span></td>
                            <td>@info7[2].ToString()<span style="font-weight: normal; color: black; font-size:11px;"> (@(info7[2] * 100 / info7[0])%)</span><span class="fa fa-arrow-right"></span></td>
                            <td>@info7[3].ToString()<span style="font-weight: normal; color: black; font-size:11px;"> (@(info7[3] * 100 / info7[0])%)</span><span class="fa fa-arrow-right"></span></td>
                            <td>@info7[4].ToString()<span style="font-weight: normal; color: black; font-size:11px;"> (@(info7[4] * 100 / info7[0])%)</span><span class="fa fa-arrow-right"></span></td>
                            <td>@info7[5].ToString()<span style="font-weight: normal; color: black; font-size:11px;"> (@(info7[5] * 100 / info7[0])%)</span></td>
                            @*<span style="font-weight: normal; color: black; font-size:14px;"> (@(sum2 * 100 / sum1)%)</span>*@
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> Danh Sách Nhân Viên Sắp Nhận Việc
                <div class="pull-right">
                    <div class="btn-group">
                        <a href="~/Candidate/Index" class="btn btn-default btn-xs ">Chi Tiết</a>
                    </div>
                </div>
            </div>
            <div class="panel-body">
                <table class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr style="background: #00BCD4;">
                            <th>Thông tin ứng viên</th>
                            <th>Ngày nhận việc</th>
                            <th>Ghi chú</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (info10 != null)
                        {
                            foreach (var item in info10)
                            {
                                <tr id="row">

                                    <td>Tên:<b style="color: #F44336;">@item.Name</b> -Vị trí: <b style="color: #F44336;"> @item.PositionName</b> -Điện thoại:<b style="color: #F44336;"> @item.Phone</b></td>
                                    <td><b style="color:red"> @item.StartDate.Value.ToString("dd/MM/yyyy")</b></td>
                                    <td>@item.Note1 . @item.Note2</td>
                                   
                                </tr>
                            }
                        }
                    </tbody>
                </table>

            </div>
        </div>
    </div>

    <div class="col-lg-4">
        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-bell fa-fw"></i> Trình Độ Học Vấn
            </div>
            <div class="panel-body">
                <div id="piechart_info3" style=" height: 300px;"></div>
                <a href="~/Personal/AcademicLevel" class="btn btn-default btn-block">Chi Tiết</a>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> Phân Nhóm Cấp Bậc
            </div>
            <div class="panel-body">
                <div id="piechart_info4" style=" height: 300px;"></div>
                <a href="~/Personal/GroupID2" class="btn btn-default btn-block">Chi Tiết</a>
            </div>
        </div>

    </div>

</div>
