@model List<Model.EFBIO.personnel_employee3>

@{
    ViewBag.Title = "TangCa";
    Layout = "~/Views/Shared/_Theme3.cshtml";
    var listInterval = (List<Model.EFBIO.att_timeinterval>)ViewBag.Timeinterval;
}
@section jsFooter
{

    <script src="/Assets/plugin/ckfinder/ckfinder.js"></script>
    <script src="/Assets/theme3/plugins/datepicker/js/bootstrap-datetimepicker.js"></script>
    <script src="/Assets/theme3/plugins/datepicker/js/locales/bootstrap-datetimepicker.fr.js" charset="UTF-8"></script>
    <script src="/Assets/theme3/plugins/timepicker/bootstrap-timepicker.min.js"></script>
    <script src="/Assets/theme3/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="/Assets/theme3/plugins/datatables/dataTables.bootstrap4.min.js"></script>

    <script>
        $(function () {
            $(function () {
                $('.form_datetime').datetimepicker({
                    format: 'mm/dd/yyyy hh:ii',
                    todayBtn: 1,
                    autoclose: 1,
                    todayHighlight: 1,
                });
            })
            $('input[type="checkbox"].flat-green, input[type="radio"].flat-green').iCheck({
                checkboxClass: 'icheckbox_flat-green',
                radioClass: 'iradio_flat-green'
            })
            $('.select2').select2()
            $('.time1').timepicker({
                showInputs: false,
                showMeridian: false
            })
            $('.time2').timepicker({
                showInputs: false,
                showMeridian: false
            })
        });
    </script>
}
<script src="~/Scripts/BioTime.js"></script>
<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<link href="~/Assets/js/jquery-ui.css" rel="stylesheet" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdn.rawgit.com/harvesthq/chosen/gh-pages/chosen.jquery.min.js"></script>
<link href="https://cdn.rawgit.com/harvesthq/chosen/gh-pages/chosen.min.css" rel="stylesheet" />
<div>
    <div class="card card-primary">
        <div class="card-header">
            <h3 class="card-title">Đăng ký tăng ca</h3>
            <div class="card-tools">
                <div class="btn-group" style="height:40px">
                    <button type="button" class="btn btn-success btn-sm dropdown-toggle" data-toggle="dropdown">
                        More
                    </button>
                    <div class="dropdown-menu float-right" role="menu">
                        @*<a class="dropdown-item" href="/PTE_baocom/Report2" style="color:#000">Danh sách đã đặt</a>
                            <a class="dropdown-item" href="/PTE_baocom/Index3" style="color:#000">Đăng ký Cơm</a>
                            <a class="dropdown-item" href="/PTE_baocom/Index2" style="color:#000">Thay đổi Cơm</a>*@
                    </div>
                </div>
            </div>
        </div>
        @using (Html.BeginForm("TangCa", "personnel_employee", FormMethod.Post))
        {
            <div class="card-body">

                <div class="row">
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>Bắt đầu:</label>
                            <div class="input-group date form_datetime" data-link-field="StartDate">
                                <input class="form-control" type="text" id="start" value="" readonly name="startdate">
                                <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
                                <span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fa fa-calendar"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>Kết thúc:<span style="font-weight:bold;color:red">*</span>:</label>
                            <div class="input-group date form_datetime" data-link-field="Deadline">
                                <input class="form-control" type="text" id="end" value="" readonly name="enddate">
                                <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
                                <span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fa fa-calendar"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="form-group">
                            <label>Lý do<span style="font-weight:bold;color:red">*</span>:</label>
                            <div class="input-group" data-link-field="reason">
                                <input class="form-control" type="text" id="reason" value="" name="reason1">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="card card-success card-outline">
                            <div class="card-body" style="text-align:center">
                                @Html.AntiForgeryToken()
                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                <h2 style="float:left">Chọn nhân viên</h2>
                                <select data-placeholder="Nhân viên" multiple class="chosen-select form-control" id="dep" style="width:99%; ">
                                    @foreach (var item in Model)
                                    {
                                        <option value="@item.emp_id">@item.emp_code @item.name</option>
                                    }
                                </select>
                                <input type="hidden" id="ListDep" name="emp_id1" />
                                <script type="text/javascript">
                                    $("#dep").chosen({
                                        disable_search_threshold: 10
                                    }).change(function (event) {
                                        if (event.target == this) {
                                            document.getElementById("ListDep").value = $(this).val();
                                        }
                                    });
                                    $(".chosen-select").chosen({
                                        no_results_text: "Không tìm thấy:"
                                    });
                                    $('#dep_chosen').css({ "width": "300px" });
                                </script>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="card-footer">
                <div class="datcom">
                    <button type="submit" class="btn btn-primary" onclick="CheckCreate()">Tạo phiếu</button>
                </div>
            </div>
        }
    </div>


</div>
